(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb7e169a"],{"07a8":function(e,t,l){},"0ed2":function(e,t,l){"use strict";var i=l("07a8"),a=l.n(i);a.a},b081:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("editBill2")},a=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",{attrs:{justify:"center"}},[i("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.editDialog=!0}}},[e._v(" Open Dialog ")]),i("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v("Edit Bill")])]),i("v-card-text",[i("v-container",[i("v-form",{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[i("v-row",[i("v-col",[i("h3",[e._v("Bill by")]),i("img",{staticClass:"img",attrs:{height:"30",src:l("dae4")}})])],1),i("v-row",[i("v-col",{staticClass:" col- .col-md-4"},[i("v-text-field",{staticClass:"error-combobox",attrs:{outlined:"",type:"text",rules:e.verifyBillName,name:"billName",label:"Bill Name","append-icon":"mdi-card-plus",required:"",small:""},model:{value:e.bill.billName,callback:function(t){e.$set(e.bill,"billName",t)},expression:"bill.billName"}})],1)],1),i("v-card",{staticClass:"errors",attrs:{flat:""}},[i("span",{staticStyle:{color:"#FB236A"}},[e._v(e._s(e.message))])]),i("v-row",{attrs:{id:"line_item",justify:"center"}},[i("v-col",{staticClass:" col-3 .col-md-4"},[i("h3",[e._v(" ITEM NAME ")])]),i("v-col",{staticClass:" col-2 .col-md-4"},[i("h3",[e._v(" QUANTITY ")])]),i("v-col",{staticClass:" col-2 .col-md-4"},[i("h3",[e._v(" UNIT PRICE(CFAF) ")])]),i("v-col",{staticClass:" col-3 .col-md-4"},[i("h3",[e._v(" TOTAL ")])]),i("v-col",{staticClass:" col-2 .col-md-4"},[i("h3")])],1),e.error?i("v-row",{staticClass:" col-10 .col-md-4",attrs:{justify:"center"}}):e._e(),e._l(e.bill_line_items,(function(t,l){return i("v-row",{key:l,attrs:{justify:"center"}},[i("v-col",{staticClass:" col-5 .col-md-4"},[i("v-autocomplete",{attrs:{chips:"",items:e.billItemsNames,"item-text":"bill_item_name",outlined:"",rules:e.verifyItemName,color:"white",height:"2",name:"bill_item_name",label:"Item Name",required:""},model:{value:t.bill_item_name,callback:function(l){e.$set(t,"bill_item_name",l)},expression:"bill_line_item.bill_item_name"}})],1),i("v-col",{staticClass:" col-5 .col-md-4"},[i("v-text-field",{directives:[{name:"cloneya-input",rawName:"v-cloneya-input",value:"quantity",expression:"'quantity'"}],staticClass:"error-combobox",attrs:{outlined:"",type:"number",name:"quantity",rules:e.verifyQuantity,label:"Quantity","append-icon":"mdi-numeric-1-box-multiple",required:""},model:{value:t.quantity,callback:function(l){e.$set(t,"quantity",l)},expression:"bill_line_item.quantity"}})],1),i("v-col",{staticClass:" col-1 .col-md-4"},[i("v-avatar",{attrs:{color:"primary","x-large":""},on:{click:e.addLine}},[i("v-icon",{staticClass:"mdi-108px mdi-light"},[e._v("mdi-playlist-plus")])],1)],1),i("v-col",{staticClass:" col-1 .col-md-4"},[l+1===e.bill_line_items.length?i("v-avatar",{attrs:{color:"error","x-large":""},on:{click:function(t){return e.removeLine(l)}}},[i("v-icon",{attrs:{dark:""}},[e._v("mdi-delete-forever")])],1):e._e()],1)],1)})),i("v-row",[i("v-col",{staticClass:"col-6 .col-md-4"}),i("v-col",{staticClass:"col-3 .col-md-4"},[i("v-btn",{staticClass:"log-btn",attrs:{block:"","x-large":"",color:"error",name:"createBill"},on:{click:e.cancel}},[e._v(" cancel ")])],1),i("v-col",{staticClass:"col-3 .col-md-4"},[i("v-btn",{staticClass:"log-btn",attrs:{block:"","x-large":"",loading:e.loading,disabled:!e.isValid,color:"#10195D",name:"createBill"},on:{click:e.updateBill}},[e._v(" update bill ")])],1)],1)],2)],1)],1)],1)],1)],1)},s=[],o=(l("4de4"),l("a434"),l("4ad7")),r=l("6468"),c=l("b99a"),u={name:"editBill2",data:function(){return{editDialog:!1,isValid:!0,blockRemoval:!0,inputGroup:0,loading:!1,billName:null,billItems:null,billItemsNames:[],message:null,bill:new o["a"]("","",""),bill_line_items:[],verifyBillName:[function(e){return!!e||"Bill Name is required"},function(e){return e&&e.length>=4||"Bill Name must be greater than 3 characters"}],verifyBillElement:[function(e){return!!e||"Number of elements required"},function(e){return e&&e>0||"Bill must have atleast one element"}],verifyItemName:[function(e){return!!e||"Please make a valid selection"}],verifyQuantity:[function(e){return!!e||"Please add a valid value"}]}},mounted:function(){this.addLine(),this.useUserId()},created:function(){this.fetchData()},watch:{$route:"fetchData",bill_line_items:function(){this.blockRemoval=this.bill_line_items.length<=1}},methods:{cancel:function(){this.editDialog=!1},useUserId:function(){this.getUserID&&(this.bill.userId=this.$store.state.auth.user.id)},addLine:function(){var e=this.bill_line_items.filter((function(e){return null===e.bill_item_name}));e.length>=1&&this.bill_line_items.length>0?this.message="Please fill the last line before adding a new one !":this.bill_line_items.push({bill_item_name:null,quantity:null})},removeLine:function(e){this.blockRemoval||this.bill_line_items.splice(e,1)},fetchData:function(){var e=this;this.error=this.billItems=null,this.loading=!0,r["a"].getBillItems().then((function(t){e.loading=!1,e.billItems=t.data;for(var l=0;l<t.data.length;l++)e.billItemsNames.push(t.data[l].bill_item_name)})).catch((function(e){return{message:e||"An error ocurred while fetching the bill components please verify your internet conection and try again letter"}}))},validate:function(){this.$refs.form.validate()},updateBill:function(){var e=this;this.loading=!0,this.$validator.validateAll().then((function(t){if(t){e.bill.bill_line_items=e.bill_line_items;var l=e.$route.params.billId;c["a"].updateBill(e.userId,l).then((function(t){return e.loading=!1,e.$router.push("allBill"),t})).catch((function(e){return e||"Unable to save bill please check your connection and try again"}))}else e.loading=!1}))}},computed:{currentUser:function(){return this.$store.state.auth.user},getUserID:function(){return this.$store.state.auth.user.id}}},d=u,m=(l("0ed2"),l("2877")),v=l("6544"),b=l.n(v),f=l("c6a6"),h=l("8212"),_=l("8336"),p=l("b0af"),g=l("99d9"),y=l("62ad"),C=l("a523"),k=l("169a"),B=l("4bd4"),x=l("132d"),w=l("0fd9"),I=l("8654"),N=Object(m["a"])(d,n,s,!1,null,"b126f91a",null),V=N.exports;b()(N,{VAutocomplete:f["a"],VAvatar:h["a"],VBtn:_["a"],VCard:p["a"],VCardText:g["c"],VCardTitle:g["d"],VCol:y["a"],VContainer:C["a"],VDialog:k["a"],VForm:B["a"],VIcon:x["a"],VRow:w["a"],VTextField:I["a"]});var D={name:"editBill",components:{editBill2:V},data:function(){return{}}},$=D,q=Object(m["a"])($,i,a,!1,null,null,null);t["default"]=q.exports},b99a:function(e,t,l){"use strict";var i=l("d4ec"),a=l("bee2"),n=l("bc3a"),s=l.n(n),o=l("fce9"),r=o["a"]+"bills",c=function(){function e(){Object(i["a"])(this,e)}return Object(a["a"])(e,[{key:"createBill",value:function(e){return s.a.post(r,e)}},{key:"getAllBills",value:function(e){return s.a.get(r+"/"+e)}},{key:"deleteBill",value:function(e,t){return s.a.delete(r+"/"+e+"/"+t)}},{key:"updateBill",value:function(e,t,l){s.a.delete(r+"/"+e+"/"+t),s.a.post(r,l)}}]),e}();t["a"]=new c}}]);
//# sourceMappingURL=chunk-bb7e169a.b54e7937.js.map